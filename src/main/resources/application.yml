database:
  datasources:
    neo:
      type: NEO4J
      host: ${NEO4J_HOST:localhost}
      port: ${NEO4J_PORT:7888}
      user-name: ${NEO4J_USERNAME:neo4j}
      password: ${NEO4J_PASSWORD:brahmsian}
      database-name: ${NEO4J_DATABASE:neo4j}

neo4j:
  http:
    port: ${NEO4J_HTTP_PORT:8889}

impromptu:

  neo-rag:
    max-chunk-size: 800
    overlap-size: 100
    embedding-batch-size: 800

  chat-llm:
    model: gpt-4.1-mini
    temperature: 0.0

  proposition-extraction-llm:
    model: gpt-4.1-mini
    temperature: 0.0


  voice:
    persona: impromptu
    max-words: 250

  objective: music

  show-extraction-prompts: true
  show-extraction-responses: false
  embedding-service: text-embedding-3-small

embabel:

  agent:
    logging:
      personality: colossus

  models:

    # Change this to use a non Open AI default LLM
    default-llm:
      model: gpt-4.1-mini


server:
  port: 8888  # Double the 88 piano keys

spring:

  # Google OAuth2 Configuration
  # To set up Google OAuth2:
  # 1. Go to https://console.cloud.google.com/
  # 2. Create a new project or select an existing one
  # 3. Navigate to APIs & Services > Credentials
  # 4. Create an OAuth client ID (Web application type)
  # 5. Add authorized redirect URIs: http://127.0.0.1:8888/login/oauth2/code/google
  # 6. Copy the client ID and client secret below
  # 7. Access the app via http://127.0.0.1:8888 (not localhost)
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID}
            client-secret: ${GOOGLE_CLIENT_SECRET}
            scope: email,profile
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
          # Spotify OAuth2 for playlist management (linked after Google login)
          # To set up Spotify:
          # 1. Go to https://developer.spotify.com/dashboard
          # 2. Create an app
          # 3. Add redirect URI: http://127.0.0.1:8888/callback/spotify (loopback, not localhost)
          # 4. Add yourself as a user in User Management (for dev mode)
          # 5. Copy client ID and secret below
          # 6. Access the app via http://127.0.0.1:8888 (not localhost)
          spotify:
            client-id: ${SPOTIFY_CLIENT_ID:}
            client-secret: ${SPOTIFY_CLIENT_SECRET:}
            scope: playlist-modify-public,playlist-modify-private,playlist-read-private,user-library-read
            authorization-grant-type: authorization_code
            redirect-uri: "{baseUrl}/callback/spotify"
        provider:
          spotify:
            authorization-uri: https://accounts.spotify.com/authorize
            token-uri: https://accounts.spotify.com/api/token
            user-info-uri: https://api.spotify.com/v1/me
            user-name-attribute: id
